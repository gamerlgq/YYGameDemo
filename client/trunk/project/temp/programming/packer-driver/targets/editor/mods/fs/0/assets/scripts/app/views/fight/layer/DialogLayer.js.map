{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/GameDemoReal/assets/scripts/app/views/fight/layer/DialogLayer.ts"],"names":["DialogLayer","fightEventMgr","FightConstant","FightDialogUI","FightLayerBase","init","_initListeners","addEventListener","FightEvent","Show_Dialog","_showDialog","bind","event","data","getEventData","show","PrefabNode","Desc","dialog","desc","com","getComponent","setDesc","node","addChild"],"mappings":";;;2FASaA,W;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AALJC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,c,iBAAAA,c;;;;;;;6BAEIJ,W,GAAN,MAAMA,WAAN;AAAA;AAAA,4CAAyC;AAErCK,QAAAA,IAAI,GAAE;AACT,eAAKC,cAAL;AACH;;AAEOA,QAAAA,cAAc,GAAG;AACrB;AAAA;AAAA,8CAAcC,gBAAd,CAA+B;AAAA;AAAA,8CAAcC,UAAd,CAAyBC,WAAxD,EAAoE,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAApE;AACH;;AAEOD,QAAAA,WAAW,CAACE,KAAD,EAAmB;AAClC,cAAIC,IAAmC,GAAGD,KAAK,CAACE,YAAN,EAA1C;AACA,eAAKC,IAAL,CAAUF,IAAI,CAACG,UAAf,EAA0BH,IAAI,CAACI,IAA/B;AACH;AACD;AACJ;AACA;AACA;AACA;;;AACWF,QAAAA,IAAI,CAACG,MAAD,EAAaC,IAAb,EAA0B;AACjC,cAAIC,GAAG,GAAGF,MAAM,CAACG,YAAP;AAAA;AAAA,6CAAV;AACAD,UAAAA,GAAG,CAACE,OAAJ,CAAYH,IAAZ;AACA,eAAKI,IAAL,CAAUC,QAAV,CAAmBN,MAAnB;AACAE,UAAAA,GAAG,CAACL,IAAJ;AACH;;AAxB2C,O","sourcesContent":["import { log, Node, Vec3 } from \"cc\";\nimport { fightActionMgr } from \"../action/FightActionMgr\";\nimport { FightEvent } from \"../event/FightEvent\";\nimport { FightEventDataType } from \"../event/FightEventDataType\";\nimport { fightEventMgr } from \"../event/FightEventMgr\";\nimport { FightConstant } from \"../FightConstant\";\nimport { FightDialogUI } from \"../ui/FightDialogUI\";\nimport { FightLayerBase } from \"./FightLayerBase\";\n\nexport class DialogLayer extends FightLayerBase {\n   \n    public init(){\n        this._initListeners();\n    }\n\n    private _initListeners() {\n        fightEventMgr.addEventListener(FightConstant.FightEvent.Show_Dialog,this._showDialog.bind(this));\n    }\n\n    private _showDialog(event:FightEvent) {\n        let data:FightEventDataType.Show_Dialog = event.getEventData();\n        this.show(data.PrefabNode,data.Desc);\n    }\n    /**\n     * \n     * @param dialog 预制体节点\n     * @param desc 富文本描述\n     */\n    public show(dialog:Node,desc:string) {\n        let com = dialog.getComponent(FightDialogUI);\n        com.setDesc(desc);\n        this.node.addChild(dialog);\n        com.show();\n    }\n}"]}