{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/YYGameDemo/client/trunk/project/assets/scripts/framework/translate/TranslateMgr.ts"],"names":["TranslateMgr","Singleton","dataMgr","constructor","loadCodeCfg","fileName","_translateCfg","getData","translate","id","_getTranslateStr","translateData","key","clear","translateMgr","getInstance"],"mappings":";;;kDAGMA,Y;;;;;;;;;;;;;;;;;;AAHGC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,O,iBAAAA,O;;;;;;;AAEHF,MAAAA,Y,GAAN,MAAMA,YAAN;AAAA;AAAA,kCAAqC;AACjC;AAEA;AACAG,QAAAA,WAAW,GAAG;AACV;;AADU,iDAFc,EAEd;AAEb;;AAEDC,QAAAA,WAAW,CAACC,QAAD,EAAmB;AAC1B,eAAKC,aAAL,GAAqB;AAAA;AAAA,kCAAQC,OAAR,CAAgBF,QAAhB,CAArB;AACH,SAVgC,CAajC;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;;;AAEAG,QAAAA,SAAS,CAACC,EAAD,EAAmB;AACxB,iBAAO,KAAKC,gBAAL,CAAsB,MAAID,EAA1B,CAAP;AACH;;AAEDE,QAAAA,aAAa,CAACC,GAAD,EAAmB;AAC5B,iBAAO,KAAKF,gBAAL,CAAsBE,GAAtB,CAAP;AACH;;AAEOF,QAAAA,gBAAgB,CAACE,GAAD,EAAc;AAClC,iBAAO,KAAKN,aAAL,CAAmBM,GAAnB,KAA2BA,GAAlC;AACH;;AAEDC,QAAAA,KAAK,GAAE;AACH,kCAAAC,YAAY,GAAG,IAAf;AACH;;AA3CgC,O,EA8CrC;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;;8BACWA,Y,GAAe,CAAC,MAAI;AAC3B,eAAOd,YAAY,CAACe,WAAb,EAAP;AACH,OAFyB,G","sourcesContent":["import { Singleton } from \"../components/Singleton\";\nimport { dataMgr } from \"../data/DataMgr\";\n\nclass TranslateMgr extends Singleton {\n    // 缓存\n    private _translateCfg:any = {};\n    // 构造函数\n    constructor() {\n        super();\n    }\n\n    loadCodeCfg(fileName: string) {\n        this._translateCfg = dataMgr.getData(fileName);\n    }\n\n\n    // loadPBCfg(fileName: string) {\n    //     this._translatePBCfg = dataMgr.getData(fileName);\n    // }\n\n    // getPBStr(key: string) {\n    //     return this._translatePBCfg[key] || key;\n    // }\n\n    // loadExCfg(fileName: string) {\n    //     this._translateExCfg = dataMgr.getData(fileName);\n    // }\n\n    // getExStr(key: string) {\n    //     return this._translateExCfg[key] || key;\n    // }\n\n    translate(id: number):string{\n        return this._getTranslateStr(\"t\"+id);\n    }\n\n    translateData(key:string):string{\n        return this._getTranslateStr(key);\n    }\n\n    private _getTranslateStr(key: string) {\n        return this._translateCfg[key] || key;\n    }\n\n    clear(){\n        translateMgr = null;\n    }\n}\n\n// 代码翻译\n// export function translate(id: number): string {\n//     return translateMgr.getTranslateStr(\"t\" + id);\n// }\n\n// // 预制体翻译\n// export function GetTranslatePB(id: number): string {\n//     return TranslateMgr.getInstance().getPBStr(\"p\" + id);\n// }\n\n// // 数值表翻译\n// export function GetTranslateEx(id: number | string): string {\n//     return TranslateMgr.getInstance().getExStr(\"e\" + id);\n// }\n\n// ()();\nexport let translateMgr = (()=>{\n    return TranslateMgr.getInstance<TranslateMgr>();\n})();"]}