{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/GameDemoReal/assets/scripts/framework/ui/TableContentLayer.ts"],"names":["TableContentLayer","Node","Widget","widgetManager","setNodeVisible","constructor","_contentLayerMap","Map","widget","addComponent","alignMode","AlignMode","ON_WINDOW_RESIZE","alignFlags","AlignFlags","HORIZONTAL","VERTICAL","left","right","bottom","top","add","layer","key","name","set","addChild","_displayLayer","findByKey","get","switch","hide","forEach","show","setSiblingIndex","clearAll","removeFromParent","destroy","clear","getDisplayLayer","isEmpty","size"],"mappings":"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","sourcesContent":["import { find, log, Node, Widget, widgetManager } from \"cc\";\nimport { setNodeVisible } from \"../utils/functions\";\n/*\n * @Author: Gino\n * @Date: 2020-09-21 20:08:11\n * @LastEditTime: 2022-03-05 15:12:00\n * @LastEditors: liuguoqing\n */\nexport class TableContentLayer extends Node {\n    _contentLayerMap: Map<string, Node>;\n    _displayLayer: any;\n\n    // 构造函数\n    constructor() {\n        super();\n        this._contentLayerMap = new Map();\n\n        //全屏\n        let widget = this.addComponent(Widget)\n        widget!.alignMode = Widget.AlignMode.ON_WINDOW_RESIZE;\n        widget!.alignFlags = widgetManager.AlignFlags.HORIZONTAL | widgetManager.AlignFlags.VERTICAL;\n        widget!.left = 0;\n        widget!.right = 0;\n        widget!.bottom = 0;\n        widget!.top = 0;\n    }\n\n    add(layer: Node, key?: string) {\n        if (key == null) {\n            key = layer.name;\n        }\n\n        this._contentLayerMap.set(key, layer);\n        this.addChild(layer);\n\n        if (this._displayLayer == null) {\n            this._displayLayer = layer;\n        }\n    }\n\n    findByKey(key: string): any {\n        return this._contentLayerMap.get(key);\n    }\n\n    switch(key: string) {\n        let layer = this._contentLayerMap.get(key);\n        if (layer != null) {\n            this._displayLayer = layer;\n        }\n    }\n\n    hide() {\n        this._contentLayerMap.forEach((layer) => {\n            setNodeVisible(layer, false);\n        });\n    }\n\n    show() {\n        if (this._displayLayer == null) {\n            return;\n        }\n        this._contentLayerMap.forEach((layer) => {\n            setNodeVisible(layer, false);\n            layer.setSiblingIndex(0);\n        });\n\n        // this._displayLayer.opacity = 255;\n        // this._displayLayer.zIndex = 10;\n\n        setNodeVisible(this._displayLayer, true);\n        this._displayLayer.setSiblingIndex(10)\n    }\n\n    clearAll() {\n        this._contentLayerMap.forEach((layer) => {\n            layer.removeFromParent();\n            layer.destroy();\n        });\n\n        this._contentLayerMap.clear();\n        this._displayLayer = null;\n    }\n\n    getDisplayLayer(): Node {\n        return this._displayLayer;\n    }\n\n    isEmpty(): boolean {\n        if (!this._contentLayerMap || this._contentLayerMap.size == 0) {\n            return true;\n        }\n        return false;\n    }\n}\n"]}