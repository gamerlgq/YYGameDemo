{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/GameDemoReal/assets/scripts/app/views/fight/ui/FightEditorUI.ts"],"names":["_decorator","Component","ScrollView","Label","ProgressBar","ListView","FightConstant","ccclass","property","FightEditorUI","start","_initScrollView","items","FightUnitActionString","keys","Object","delegate","reuse","itemNode","item","label","getChildByName","lblCom","getComponent","string","listViewComp","scrollView","setDelegate","reload","node","active","onUnitActionShowBtnClick","_isShowActionOption","_showActionItems","_hideActionItems","onUnitActionBtnClick","event","customEventData","getCurrentTarget"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,U,OAAAA,U;AAAoBC,MAAAA,K,OAAAA,K;AAAmBC,MAAAA,W,OAAAA,W;;AACpEC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,a,iBAAAA,a;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;+BAGjBS,a,WADZF,OAAO,CAAC,eAAD,C,UAGHC,QAAQ,CAACN,UAAD,C,UAGRM,QAAQ,CAACJ,WAAD,C,oCANb,MACaK,aADb,SACmCR,SADnC,CAC6C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,uDAQH,KARG;AAAA;;AAUzCS,QAAAA,KAAK,GAAI;AACL,eAAKC,eAAL;AACH;;AAEOA,QAAAA,eAAe,GAAG;AACtB,cAAIC,KAAK,GAAG;AAAA;AAAA,8CAAcC,qBAA1B;AACA,cAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,KAAZ,CAAX;AACA,cAAII,QAAiC,GAAI;AACrCJ,YAAAA,KAAK,EAAE,YAAsB;AACzB,qBAAOE,IAAP;AACH,aAHoC;;AAKrCG,YAAAA,KAAK,CAACC,QAAD,EAAiBC,IAAjB,EAA8B;AAC/B,kBAAIC,KAAK,GAAGF,QAAQ,CAACG,cAAT,CAAwB,OAAxB,CAAZ;AACA,kBAAIC,MAAM,GAAGF,KAAK,CAACG,YAAN,CAAmBpB,KAAnB,CAAb;AACAmB,cAAAA,MAAM,CAACE,MAAP,GAAgBL,IAAhB;AACH;;AAToC,WAAzC;AAYA,cAAIM,YAAY,GAAG,KAAKC,UAAL,CAAgBH,YAAhB;AAAA;AAAA,mCAAnB;AACAE,UAAAA,YAAY,CAACE,WAAb,CAAyBX,QAAzB;AACAS,UAAAA,YAAY,CAACG,MAAb;AAEA,eAAKF,UAAL,CAAgBG,IAAhB,CAAqBC,MAArB,GAA8B,KAA9B;AACH;;AAGDC,QAAAA,wBAAwB,GAAE;AACtB,eAAKC,mBAAL,GAA2B,CAAC,KAAKA,mBAAjC;;AACA,cAAI,KAAKA,mBAAT,EAA6B;AACzB,iBAAKC,gBAAL;AACH,WAFD,MAEK;AACD,iBAAKC,gBAAL;AACH;AACJ;;AAEOD,QAAAA,gBAAgB,GAAG;AACvB,eAAKP,UAAL,CAAgBG,IAAhB,CAAqBC,MAArB,GAA8B,IAA9B;AACH;;AAEOI,QAAAA,gBAAgB,GAAG;AACvB,eAAKR,UAAL,CAAgBG,IAAhB,CAAqBC,MAArB,GAA8B,KAA9B;AACH;;AAEDK,QAAAA,oBAAoB,CAACC,KAAD,EAAkBC,eAAlB,EAAyC;AACzD,cAAIR,IAAI,GAAGO,KAAK,CAACE,gBAAN,EAAX;AACAT,UAAAA,IAAI;AACP;;AAzDwC,O;;;;;iBAGjB,I;;;;;;;iBAGF,I","sourcesContent":["\nimport { _decorator, Component, Node, ScrollView, Button, Label, EventTouch, ProgressBar } from 'cc';\nimport { ListView, ListViewDelegate } from '../../../../framework/ui/ListView';\nimport { FightConstant } from '../FightConstant';\nconst { ccclass, property } = _decorator;\n\n@ccclass('FightEditorUI')\nexport class FightEditorUI extends Component {\n    \n    @property(ScrollView)\n    scrollView:ScrollView = null;\n\n    @property(ProgressBar)\n    fullBar:ProgressBar = null;\n\n    private _isShowActionOption:boolean = false;\n\n    start () {\n        this._initScrollView();\n    }\n\n    private _initScrollView() {\n        let items = FightConstant.FightUnitActionString;\n        let keys = Object.keys(items);\n        let delegate:ListViewDelegate<string>  = {\n            items: function (): string[] {\n                return keys\n            },\n\n            reuse(itemNode: Node, item: string){\n                let label = itemNode.getChildByName(\"Label\");\n                let lblCom = label.getComponent(Label);\n                lblCom.string = item;\n            }\n        }\n\n        let listViewComp = this.scrollView.getComponent(ListView);\n        listViewComp.setDelegate(delegate);\n        listViewComp.reload();\n\n        this.scrollView.node.active = false;\n    }\n\n\n    onUnitActionShowBtnClick(){\n        this._isShowActionOption = !this._isShowActionOption;\n        if (this._isShowActionOption){\n            this._showActionItems();\n        }else{\n            this._hideActionItems();\n        }\n    }\n\n    private _showActionItems() {\n        this.scrollView.node.active = true;\n    }\n\n    private _hideActionItems() {\n        this.scrollView.node.active = false;\n    }\n\n    onUnitActionBtnClick(event:EventTouch,customEventData:string){\n        let node = event.getCurrentTarget();\n        node\n    }\n}"]}