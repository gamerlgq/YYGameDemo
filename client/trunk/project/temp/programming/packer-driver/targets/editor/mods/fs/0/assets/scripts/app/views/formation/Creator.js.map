{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/GameDemoReal/assets/scripts/app/views/formation/Creator.ts"],"names":["FormationCreator","instantiate","sceneMgr","ResourcesLoader","ViewCreatorBase","ViewProtocol","viewRegisterMgr","onInit","regMsg","FormationView","onCreateFormationView","bind","event","viewInfo","getViewInfo","loadWithViewInfo","data","node","pushNewTableLayer","replaceTableContent","View"],"mappings":";;;sHAQaA,gB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AARJC,MAAAA,W,OAAAA,W;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,e,iBAAAA,e;;AAEAC,MAAAA,e,iBAAAA,e;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,e,iBAAAA,e;;;;;;;kCAEIN,gB,GAAN,MAAMA,gBAAN;AAAA;AAAA,8CAA+C;AAElDO,QAAAA,MAAM,GAAG;AACL,eAAKC,MAAL,CAAY;AAAA;AAAA,4CAAaC,aAAzB,EAAwC,KAAKC,qBAAL,CAA2BC,IAA3B,CAAgC,IAAhC,CAAxC;AACH;;AAEDD,QAAAA,qBAAqB,CAACE,KAAD,EAAgB;AACjC,cAAIC,QAAQ,GAAG;AAAA;AAAA,kDAAgBC,WAAhB,CAA4B,WAA5B,EAAwC,eAAxC,CAAf;AACA;AAAA;AAAA,kDAAgBC,gBAAhB,CAAiCF,QAAjC,EAA2CG,IAAD,IAAe;AACrD,gBAAIC,IAAI,GAAGhB,WAAW,CAACe,IAAD,CAAtB;AACA;AAAA;AAAA,sCAASE,iBAAT;AACA;AAAA;AAAA,sCAASC,mBAAT,CAA6BF,IAA7B,EAAkCJ,QAAQ,CAACO,IAA3C;AACH,WAJD;AAKH;;AAbiD,O","sourcesContent":["import { instantiate, Prefab } from \"cc\";\nimport { sceneMgr } from \"../../../framework/core/SceneMgr\";\nimport { ResourcesLoader } from \"../../../framework/data/ResourcesLoader\";\nimport { Message } from \"../../../framework/listener/Message\";\nimport { ViewCreatorBase } from \"../../../framework/ui/ViewCreatorBase\";\nimport { ViewProtocol } from \"../../define/ViewProtocol\";\nimport { viewRegisterMgr } from \"../../define/ViewRegisterMgr\";\n\nexport class FormationCreator extends ViewCreatorBase {\n\n    onInit() {\n        this.regMsg(ViewProtocol.FormationView, this.onCreateFormationView.bind(this))\n    }\n\n    onCreateFormationView(event:Message) {\n        let viewInfo = viewRegisterMgr.getViewInfo(\"formation\",\"FormationView\");\n        ResourcesLoader.loadWithViewInfo(viewInfo,(data:Prefab)=>{\n            let node = instantiate(data);\n            sceneMgr.pushNewTableLayer();\n            sceneMgr.replaceTableContent(node,viewInfo.View);\n        })\n    }\n}"]}