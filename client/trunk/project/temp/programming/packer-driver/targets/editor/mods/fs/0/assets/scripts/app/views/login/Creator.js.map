{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/GameDemoReal/assets/scripts/app/views/login/Creator.ts"],"names":["LoginCreator","instantiate","sceneMgr","ResourcesLoader","ViewCreatorBase","ViewProtocol","viewRegisterMgr","onInit","regMsg","LoginLayer","onCreateLoginView","bind","LoginAccountLayer","onCreateAccountLayer","UserAgreementLayer","onCreateUserAgreementLayer","PrivacyPolicyLayer","onCreatePrivacyPolicyLayer","NoticeView","onCreateNoticeView","event","viewInfo","getViewInfo","loadWithViewInfo","data","node","replaceMainLayer","View","pushNewTableLayer","replaceTableContent","msg","getRawData","child","getChildByName","comp","getComponent","updateView"],"mappings":"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","sourcesContent":["import { instantiate, log, Prefab } from \"cc\";\nimport { sceneMgr } from \"../../../framework/core/SceneMgr\";\nimport { ResourcesLoader } from \"../../../framework/data/ResourcesLoader\";\nimport { Message } from \"../../../framework/listener/Message\";\nimport { ViewCreatorBase } from \"../../../framework/ui/ViewCreatorBase\";\nimport { ViewProtocol } from \"../../define/ViewProtocol\";\nimport { viewRegisterMgr } from \"../../define/ViewRegisterMgr\";\nimport { NoticeView } from \"./NoticeView\";\n\nexport class LoginCreator extends ViewCreatorBase {\n\n    onInit() {\n        this.regMsg(ViewProtocol.LoginLayer, this.onCreateLoginView.bind(this));\n        this.regMsg(ViewProtocol.LoginAccountLayer,this.onCreateAccountLayer.bind(this));\n        this.regMsg(ViewProtocol.UserAgreementLayer, this.onCreateUserAgreementLayer.bind(this))\n        this.regMsg(ViewProtocol.PrivacyPolicyLayer, this.onCreatePrivacyPolicyLayer.bind(this))\n        this.regMsg(ViewProtocol.NoticeView, this.onCreateNoticeView.bind(this))\n    }\n\n    onCreateLoginView(event:Message) {\n        //创建登录界面\n        let viewInfo = viewRegisterMgr.getViewInfo(\"login\",\"LoginLayer\");\n        ResourcesLoader.loadWithViewInfo(viewInfo,(data:Prefab)=>{\n            let node = instantiate(data);\n            sceneMgr.replaceMainLayer(node,viewInfo.View);\n        })\n    }\n\n    onCreateAccountLayer(event:Message) {\n        //账号界面\n        let viewInfo = viewRegisterMgr.getViewInfo(\"login\",\"LoginAccountLayer\");\n        ResourcesLoader.loadWithViewInfo(viewInfo,(data:Prefab)=>{\n            let node = instantiate(data);\n            sceneMgr.pushNewTableLayer();\n            sceneMgr.replaceTableContent(node,viewInfo.View);\n        })\n    }\n    \n    onCreateUserAgreementLayer(event:Message) {\n        //用户协议\n        let viewInfo = viewRegisterMgr.getViewInfo(\"login\",\"UserAgreementLayer\");\n        ResourcesLoader.loadWithViewInfo(viewInfo,(data:Prefab)=>{\n            let node = instantiate(data);\n            sceneMgr.pushNewTableLayer();\n            sceneMgr.replaceTableContent(node,viewInfo.View);\n        })\n    }\n\n    onCreatePrivacyPolicyLayer(event:Message) {\n        //隐私政策\n        let viewInfo = viewRegisterMgr.getViewInfo(\"login\",\"PrivacyPolicyLayer\");\n        ResourcesLoader.loadWithViewInfo(viewInfo,(data:Prefab)=>{\n            let node = instantiate(data);\n            sceneMgr.pushNewTableLayer();\n            sceneMgr.replaceTableContent(node,viewInfo.View);\n        })\n    }\n    \n    onCreateNoticeView(event:Message) {\n        //隐私政策\n        let viewInfo = viewRegisterMgr.getViewInfo(\"login\",\"NoticeView\");\n        ResourcesLoader.loadWithViewInfo(viewInfo,(data:Prefab)=>{\n            let node = instantiate(data);\n            sceneMgr.pushNewTableLayer();\n            sceneMgr.replaceTableContent(node,viewInfo.View);\n            let msg = event.getRawData();\n            let child = node.getChildByName(\"ScriptNode\");\n            let comp = child.getComponent(\"NoticeView\") as NoticeView;\n            comp.updateView(msg);\n        })\n    }\n}"]}