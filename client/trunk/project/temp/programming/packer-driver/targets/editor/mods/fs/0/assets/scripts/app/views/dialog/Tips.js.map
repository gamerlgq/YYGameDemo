{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/GameDemoReal/assets/scripts/app/views/dialog/Tips.ts"],"names":["_decorator","Component","Node","find","UITransform","Label","tween","v3","ccclass","property","Tips","start","contentNode","node","by","position","delay","call","destroy","text","_text","value","_bg","_labelNode","on","EventType","SIZE_CHANGED","width","getComponent","bgUITrans","labelComp","string"],"mappings":";;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,E,OAAAA,E;;;;;;;OACjE;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;sBAGaU,I,WADZF,OAAO,CAAC,MAAD,C,yBAAR,MACaE,IADb,SAC0BT,SAD1B,CACoC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAWhCU,QAAAA,KAAK,GAAG;AACJ;AAGA,cAAIC,WAAW,GAAGT,IAAI,CAAC,SAAD,EAAY,KAAKU,IAAjB,CAAtB;AACAP,UAAAA,KAAK,CAACM,WAAD,CAAL,CACKE,EADL,CACQ,GADR,EACa;AAAEC,YAAAA,QAAQ,EAAER,EAAE,CAAC,CAAD,EAAI,GAAJ,EAAS,CAAT;AAAd,WADb,EAEKS,KAFL,CAEW,GAFX,EAGKC,IAHL,CAGU,MAAI;AACN,iBAAKJ,IAAL,CAAUK,OAAV;AACH,WALL,EAMKP,KANL;AAOH;;AAGc,YAAJQ,IAAI,GAAW;AACtB,iBAAO,KAAKC,KAAZ;AACH;;AACc,YAAJD,IAAI,CAACE,KAAD,EAAgB;AAC3B,cAAI,CAAC,KAAKC,GAAV,EAAe;AACX,iBAAKA,GAAL,GAAWnB,IAAI,CAAC,YAAD,EAAe,KAAKU,IAApB,CAAf;AACA,iBAAKU,UAAL,GAAkBpB,IAAI,CAAC,eAAD,EAAkB,KAAKU,IAAvB,CAAtB;;AAEA,iBAAKU,UAAL,CAAgBC,EAAhB,CAAmBtB,IAAI,CAACuB,SAAL,CAAeC,YAAlC,EAAgD,MAAI;AAChD,kBAAIC,KAAK,GAAG,KAAKJ,UAAL,CAAgBK,YAAhB,CAA6BxB,WAA7B,EAA0CuB,KAAtD;;AACA,kBAAIE,SAAS,GAAG,KAAKP,GAAL,CAASM,YAAT,CAAsBxB,WAAtB,CAAhB;;AACAyB,cAAAA,SAAS,CAACF,KAAV,GAAkBA,KAAK,GAAG,EAA1B;AACH,aAJD;AAKH;;AAGD,eAAKP,KAAL,GAAaC,KAAb;;AAEA,cAAIS,SAAS,GAAG,KAAKP,UAAL,CAAgBK,YAAhB,CAA6BvB,KAA7B,CAAhB;;AACAyB,UAAAA,SAAS,CAACC,MAAV,GAAmBV,KAAnB;AACH;;AA9C+B,O;AAkDpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator, Component, Node, find, UITransform, Label, tween, v3, log } from 'cc';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = Tips\n * DateTime = Fri Mar 11 2022 15:26:10 GMT+0800 (中国标准时间)\n * Author = maikx123456\n * FileBasename = Tips.ts\n * FileBasenameNoExtension = Tips\n * URL = db://assets/scripts/app/views/common/Tips.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n\n@ccclass('Tips')\nexport class Tips extends Component {\n    // [1]\n    // dummy = '';\n\n    // [2]\n    // @property\n    // serializableDummy = 0;\n\n    private _bg: Node;\n    private _labelNode: Node;\n\n    start() {\n        // [3]\n\n\n        let contentNode = find(\"content\", this.node)\n        tween(contentNode)\n            .by(0.3, { position: v3(0, 200, 0) })\n            .delay(0.2)\n            .call(()=>{\n                this.node.destroy();\n            })\n            .start()\n    }\n\n    private _text: string;\n    public get text(): string {\n        return this._text;\n    }\n    public set text(value: string) {\n        if (!this._bg) {\n            this._bg = find(\"content/bg\", this.node)\n            this._labelNode = find(\"content/Label\", this.node)\n\n            this._labelNode.on(Node.EventType.SIZE_CHANGED, ()=>{\n                let width = this._labelNode.getComponent(UITransform).width\n                let bgUITrans = this._bg.getComponent(UITransform)\n                bgUITrans.width = width + 10\n            })\n        }\n\n\n        this._text = value;\n\n        let labelComp = this._labelNode.getComponent(Label)\n        labelComp.string = value\n    }\n    \n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/zh/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/zh/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/zh/scripting/life-cycle-callbacks.html\n */\n"]}