{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/GameDemoReal/assets/scripts/app/views/chat/ChatMsgItemComp.ts"],"names":["_decorator","Component","find","RichText","UITransform","ccclass","property","ChatMsgItemComp","playerName","_playerName","value","text","_text","richNode","node","richTxtComp","getComponent","string","onLoad","start","setRichLabelMaxWidth","width","_richLabel","_richMaxWidth","position","x","maxWidth","getRichHeight","height"],"mappings":";;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,W,OAAAA,W;;;;;;;OAChD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;iCAGaO,e,WADZF,OAAO,CAAC,iBAAD,C,yBAAR,MACaE,eADb,SACqCN,SADrC,CAC+C;AAAA;AAAA;;AAAA,+CAEb,EAFa;;AAAA,yCAUnB,EAVmB;;AAAA;;AAAA;AAAA;;AAGtB,YAAVO,UAAU,GAAW;AAC5B,iBAAO,KAAKC,WAAZ;AACH;;AACoB,YAAVD,UAAU,CAACE,KAAD,EAAgB;AACjC,eAAKD,WAAL,GAAmBC,KAAnB;AACH;;AAGc,YAAJC,IAAI,GAAW;AACtB,iBAAO,KAAKC,KAAZ;AACH;;AACc,YAAJD,IAAI,CAACD,KAAD,EAAgB;AAC3B,eAAKE,KAAL,GAAaF,KAAb;AAEA,cAAIG,QAAQ,GAAGX,IAAI,CAAC,UAAD,EAAa,KAAKY,IAAlB,CAAnB;AACA,cAAIC,WAAW,GAAGF,QAAQ,CAACG,YAAT,CAAsBb,QAAtB,CAAlB;AACAY,UAAAA,WAAW,CAACE,MAAZ,GAAqBP,KAArB;AACH;;AAMDQ,QAAAA,MAAM,GAAG,CACR;;AAEDC,QAAAA,KAAK,GAAG,CACP;;AAGDC,QAAAA,oBAAoB,CAACC,KAAD,EAAe;AAC/B,cAAI,CAAC,KAAKC,UAAV,EAAsB;AAClB,iBAAKA,UAAL,GAAkBpB,IAAI,CAAC,UAAD,EAAa,KAAKY,IAAlB,CAAtB;AACH;;AACD,eAAKS,aAAL,GAAqBF,KAAK,GAAG,KAAKC,UAAL,CAAgBE,QAAhB,CAAyBC,CAAjC,GAAqC,EAA1D;AACA,eAAKH,UAAL,CAAgBN,YAAhB,CAA6Bb,QAA7B,EAAuCuB,QAAvC,GAAkD,KAAKH,aAAvD;AACH;;AAIDI,QAAAA,aAAa,GAAG;AACZ,iBAAO,KAAKL,UAAL,CAAgBN,YAAhB,CAA6BZ,WAA7B,EAA0CwB,MAAjD;AACH;;AA7C0C,O;AAiD/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator, Component, Node, find, RichText, UITransform, log } from 'cc';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = ChatMsgItemComp\n * DateTime = Thu Mar 17 2022 14:58:17 GMT+0800 (中国标准时间)\n * Author = maikx123456\n * FileBasename = ChatMsgItemComp.ts\n * FileBasenameNoExtension = ChatMsgItemComp\n * URL = db://assets/scripts/app/views/chat/ChatMsgItemComp.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/zh/\n *\n */\n \n@ccclass('ChatMsgItemComp')\nexport class ChatMsgItemComp extends Component {\n\n    private _playerName: string = \"\";\n    public get playerName(): string {\n        return this._playerName;\n    }\n    public set playerName(value: string) {\n        this._playerName = value;\n    }\n\n    private _text: string = \"\";\n    public get text(): string {\n        return this._text;\n    }\n    public set text(value: string) {\n        this._text = value;\n\n        let richNode = find(\"RichText\", this.node)\n        let richTxtComp = richNode.getComponent(RichText)\n        richTxtComp.string = value\n    }\n\n    private _richMaxWidth:number;\n    private _richLabel:Node;\n\n\n    onLoad() {\n    }\n    \n    start() {\n    }\n    \n    \n    setRichLabelMaxWidth(width:number) {\n        if (!this._richLabel) {\n            this._richLabel = find(\"RichText\", this.node)\n        }\n        this._richMaxWidth = width - this._richLabel.position.x - 10\n        this._richLabel.getComponent(RichText).maxWidth = this._richMaxWidth\n    }\n    \n\n\n    getRichHeight() {\n        return this._richLabel.getComponent(UITransform).height\n    }\n\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/zh/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/zh/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/zh/scripting/life-cycle-callbacks.html\n */\n"]}