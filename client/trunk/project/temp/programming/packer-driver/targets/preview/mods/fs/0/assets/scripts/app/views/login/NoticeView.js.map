{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/GameDemoReal/assets/scripts/app/views/login/NoticeView.ts"],"names":["_decorator","WebView","sceneMgr","socketMgr","LayerBase","Protocol","ccclass","property","NoticeView","updateView","data","msgData","_callback","htmlID","html_id","webview","url","close","popTableLayer","sendInnerMsg","Inner","CloseNoticeView"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,O,OAAAA,O;;AACZC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,Q,iBAAAA,Q;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;4BAGjBQ,U,WADZF,OAAO,CAAC,YAAD,C,UAGHC,QAAQ,CAACN,OAAD,C,oCAHb,MACaO,UADb;AAAA;AAAA,kCAC0C;AAAA;AAAA;;AAAA;;AAAA,6CAKT,IALS;AAAA;;AAOtCC,QAAAA,UAAU,CAACC,IAAD,EAAM;AACZ,cAAIC,OAAO,GAAGD,IAAI,CAAC,CAAD,CAAlB;AACA,eAAKE,SAAL,GAAiBF,IAAI,CAAC,CAAD,CAArB;AACA,cAAIG,MAAM,GAAGF,OAAO,CAACG,OAArB;AACA,eAAKC,OAAL,CAAaC,GAAb,GAAmBN,IAAI,CAAC,CAAD,CAAvB,CAJY,CAIe;AAC9B;;AAEDO,QAAAA,KAAK,GAAE;AACH;AAAA;AAAA,oCAASC,aAAT;;AACA,cAAI,KAAKN,SAAT,EAAoB;AAChB,iBAAKA,SAAL;AACH;;AACD;AAAA;AAAA,sCAAUO,YAAV,CAAuB;AAAA;AAAA,oCAASC,KAAT,CAAeC,eAAtC;AACH;;AApBqC,O;;;;;iBAGnB,I","sourcesContent":["\nimport { _decorator, WebView } from 'cc';\nimport { sceneMgr } from '../../../framework/core/SceneMgr';\nimport { socketMgr } from '../../../framework/net/SocketMgr';\nimport { LayerBase } from '../../../framework/ui/LayerBase';\nimport { Protocol } from '../../define/Protocol';\nconst { ccclass, property } = _decorator;\n \n@ccclass('NoticeView')\nexport class NoticeView extends LayerBase {\n    \n    @property(WebView)\n    webview: WebView = null;\n\n    private _callback:Function = null;\n\n    updateView(data){\n        let msgData = data[0];\n        this._callback = data[1];\n        let htmlID = msgData.html_id;\n        this.webview.url = data[0];//`${GameConfig.ServerListUrl}/static/new_notice/html/${htmlID}.html`;\n    }\n\n    close(){\n        sceneMgr.popTableLayer(); \n        if (this._callback) {\n            this._callback();\n        }\n        socketMgr.sendInnerMsg(Protocol.Inner.CloseNoticeView);\n    }\n\n}"]}