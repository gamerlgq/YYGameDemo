{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/GameDemoReal/assets/scripts/framework/utils/MutableForwardIterator.ts"],"names":["MutableForwardIterator","constructor","array","length","value","i","remove","index","indexOf","removeAt","splice","fastRemove","fastRemoveAt","has","push","item"],"mappings":";;;iBAYsBA,sB;;;;;;;;;;;;;;;AAZtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;yBACsBA,sB,GAAN,MAAMA,sBAAN,CAAgC;AAG5CC,QAAAA,WAAW,CAASC,KAAT,EAAqB;AAAA,qCAFrB,CAEqB;;AAAA,eAAZA,KAAY,GAAZA,KAAY;AAC/B;;AAES,YAANC,MAAM,GAAI;AACV,iBAAO,KAAKD,KAAL,CAAWC,MAAlB;AACH;;AAES,YAANA,MAAM,CAAEC,KAAF,EAAiB;AACvB,eAAKF,KAAL,CAAWC,MAAX,GAAoBC,KAApB;;AACA,cAAI,KAAKC,CAAL,IAAUD,KAAd,EAAqB;AACjB,iBAAKC,CAAL,GAASD,KAAK,GAAG,CAAjB;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;;;AACWE,QAAAA,MAAM,CAAEF,KAAF,EAAY;AACrB,cAAMG,KAAK,GAAG,KAAKL,KAAL,CAAWM,OAAX,CAAmBJ,KAAnB,CAAd;;AACA,cAAIG,KAAK,IAAI,CAAb,EAAgB;AACZ,iBAAKE,QAAL,CAAcF,KAAd;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;;;AACWE,QAAAA,QAAQ,CAAEJ,CAAF,EAAa;AACxB,eAAKH,KAAL,CAAWQ,MAAX,CAAkBL,CAAlB,EAAqB,CAArB;;AAEA,cAAIA,CAAC,IAAI,KAAKA,CAAd,EAAiB;AACb,cAAE,KAAKA,CAAP;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;;;AACWM,QAAAA,UAAU,CAAEP,KAAF,EAAY;AACzB,cAAMG,KAAK,GAAG,KAAKL,KAAL,CAAWM,OAAX,CAAmBJ,KAAnB,CAAd;;AACA,cAAIG,KAAK,IAAI,CAAb,EAAgB;AACZ,iBAAKK,YAAL,CAAkBL,KAAlB;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;;;AACWK,QAAAA,YAAY,CAAEP,CAAF,EAAa;AAC5B,cAAMH,KAAK,GAAG,KAAKA,KAAnB;AACAA,UAAAA,KAAK,CAACG,CAAD,CAAL,GAAWH,KAAK,CAACA,KAAK,CAACC,MAAN,GAAe,CAAhB,CAAhB;AACA,YAAED,KAAK,CAACC,MAAR;;AAEA,cAAIE,CAAC,IAAI,KAAKA,CAAd,EAAiB;AACb,cAAE,KAAKA,CAAP;AACH;AACJ;AAED;AACJ;AACA;AACA;;;AACWQ,QAAAA,GAAG,CAACT,KAAD,EAAiB;AACvB,cAAIG,KAAK,GAAG,KAAKL,KAAL,CAAWM,OAAX,CAAmBJ,KAAnB,CAAZ;;AACA,cAAIG,KAAK,KAAK,CAAC,CAAf,EAAiB;AACb,mBAAO,KAAP;AACH;;AACD,iBAAO,IAAP;AACH;;AAEMO,QAAAA,IAAI,CAAEC,IAAF,EAAW;AAClB,eAAKb,KAAL,CAAWY,IAAX,CAAgBC,IAAhB;AACH;;AAnF2C,O","sourcesContent":["/**\n * @example\n * ```\n * var array = [0, 1, 2, 3, 4];\n * var iterator = new MutableForwardIterator<number>(array);\n * for (iterator.i = 0; iterator.i < array.length; ++iterator.i) {\n *     var item = array[iterator.i];\n *     ...\n * }\n * ```\n * @description 可变的迭代器，迭代器用于遍历中删除元素 fastRemove / fastRemoveAt 建议慎用，数值顺序会改变\n */\n export default class MutableForwardIterator<T> {\n    public i = 0;\n\n    constructor (public array: T[]) {\n    }\n\n    get length () {\n        return this.array.length;\n    }\n\n    set length (value: number) {\n        this.array.length = value;\n        if (this.i >= value) {\n            this.i = value - 1;\n        }\n    }\n\n    /**\n     * \n     * @description 根据值从数组中删除(不改变数组顺序)\n     * @param value T 数值元素\n     */\n    public remove (value: T) {\n        const index = this.array.indexOf(value);\n        if (index >= 0) {\n            this.removeAt(index);\n        }\n    }\n\n    /**\n     * \n     * @description 根据值从数组中删除(不改变数组顺序)\n     * @param i number 数组索引\n     */\n    public removeAt (i: number) {\n        this.array.splice(i, 1);\n\n        if (i <= this.i) {\n            --this.i;\n        }\n    }\n\n    /**\n     * \n     * @description 根据值从数组中删除(慎用,改变数组顺序)\n     * @param value T 数值元素\n     */\n    public fastRemove (value: T) {\n        const index = this.array.indexOf(value);\n        if (index >= 0) {\n            this.fastRemoveAt(index);\n        }\n    }\n\n    /**\n     * \n     * @description 根据值从数组中删除(慎用,改变数组顺序)\n     * @param i number 数组索引\n     */\n    public fastRemoveAt (i: number) {\n        const array = this.array;\n        array[i] = array[array.length - 1];\n        --array.length;\n\n        if (i <= this.i) {\n            --this.i;\n        }\n    }\n\n    /**\n     * @description 判断数组元素是否存在\n     * @param value T 数值元素\n     */\n    public has(value:T):boolean{\n        let index = this.array.indexOf(value);\n        if (index === -1){\n            return false;\n        }\n        return true\n    }\n\n    public push (item: T) {\n        this.array.push(item);\n    }\n}"]}