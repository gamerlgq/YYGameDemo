{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/GameDemoReal/assets/scripts/framework/data/ModelBase.ts"],"names":["ModelBase","modelEventMgr","Map","regMsg","eventName","listener","handle","addEventListener","_handles","get","set","unRegMsgAll","forEach","value","key","removeEventListener","clear"],"mappings":";;;6CAIaA,S;;;;;;;;;;;;;;;;;;;;AAFWC,MAAAA,a,iBAAAA,a;;;;;;;2BAEXD,S,GAAN,MAAMA,SAAN,CAAgB;AAAA;AAAA,4CAEqB,IAAIE,GAAJ,EAFrB;AAAA;;AAInBC,QAAAA,MAAM,CAACC,SAAD,EAAoBC,QAApB,EAAmD;AACrD,cAAIC,MAAM,GAAG;AAAA;AAAA,8CAAcC,gBAAd,CACTH,SADS,EAETC,QAFS,CAAb;AAKA,cAAI,KAAKG,QAAL,CAAcC,GAAd,CAAkBH,MAAlB,KAA6B,IAAjC,EAAuC;;AACvC,eAAKE,QAAL,CAAcE,GAAd,CAAkBJ,MAAlB,EAA0BF,SAA1B;AACH;;AAEDO,QAAAA,WAAW,GAAS;AAChB,eAAKH,QAAL,CAAcI,OAAd,CAAsB,CAACC,KAAD,EAAQC,GAAR,KAAgB;AAClC;AAAA;AAAA,gDAAcC,mBAAd,CAAkCF,KAAlC,EAAyCC,GAAzC;AACH,WAFD;;AAIA,eAAKN,QAAL,CAAcQ,KAAd;AACH;;AApBkB,O","sourcesContent":["// import { EventCallback, modelEventMgr } from \"../yy\";\n\nimport { EventCallback, modelEventMgr } from \"../listener/EventMgr\";\n\nexport class ModelBase {\n\n    private _handles: Map<string, number> = new Map();\n\n    regMsg(eventName: number, listener: EventCallback): void {\n        let handle = modelEventMgr.addEventListener(\n            eventName,\n            listener\n        );\n\n        if (this._handles.get(handle) != null) return;\n        this._handles.set(handle, eventName);\n    }\n\n    unRegMsgAll(): void {\n        this._handles.forEach((value, key) => {\n            modelEventMgr.removeEventListener(value, key);\n        });\n\n        this._handles.clear;\n    }\n}\n"]}