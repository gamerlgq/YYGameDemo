{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/YYGameDemo/client/trunk/project/assets/scripts/framework/ui/ViewCreatorBase.ts"],"names":["ViewCreatorBase","viewEventMgr","constructor","_handles","Map","onInit","regMsg","eventName","listener","handle","addEventListener","get","set","unRegMsgAll","forEach","value","key","removeEventListener","clear"],"mappings":";;;4CAIaA,e;;;;;;;;;;;;;;;;;;;;AAFWC,MAAAA,Y,iBAAAA,Y;;;;;;;iCAEXD,e,GAAN,MAAMA,eAAN,CAAsB;AAGzBE,QAAAA,WAAW,GAAG;AAAA;;AACV,eAAKC,QAAL,GAAgB,IAAIC,GAAJ,EAAhB;AACH,SALwB,CAOzB;;;AACAC,QAAAA,MAAM,GAAO,CAEZ;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoBC,QAApB,EAAmD;AACrD,cAAIC,MAAM,GAAG;AAAA;AAAA,4CAAaC,gBAAb,CAA+BH,SAA/B,EAAyCC,QAAzC,CAAb;AAEA,cAAI,KAAKL,QAAL,CAAcQ,GAAd,CAAkBF,MAAlB,KAA6B,IAAjC,EAAuC;;AACvC,eAAKN,QAAL,CAAcS,GAAd,CAAkBH,MAAlB,EAA0BF,SAA1B;AACH;;AAEDM,QAAAA,WAAW,GAAS;AAChB,eAAKV,QAAL,CAAcW,OAAd,CAAsB,CAACC,KAAD,EAAQC,GAAR,KAAgB;AAClC;AAAA;AAAA,8CAAaC,mBAAb,CAAiCF,KAAjC,EAAwCC,GAAxC;AACH,WAFD;;AAIA,eAAKb,QAAL,CAAce,KAAd;AACH;;AAzBwB,O","sourcesContent":["// import { EventCallback, viewEventMgr } from \"../yy\";\n\nimport { EventCallback, viewEventMgr } from \"../listener/EventMgr\";\n\nexport class ViewCreatorBase {\n    private _handles: Map<string, number>;\n\n    constructor() {\n        this._handles = new Map();\n    }\n\n    //重写\n    onInit():void{\n        \n    };\n\n    regMsg(eventName: number, listener: EventCallback): void {\n        let handle = viewEventMgr.addEventListener( eventName,listener);\n\n        if (this._handles.get(handle) != null) return;\n        this._handles.set(handle, eventName);\n    }\n\n    unRegMsgAll(): void {\n        this._handles.forEach((value, key) => {\n            viewEventMgr.removeEventListener(value, key);\n        });\n\n        this._handles.clear;\n    }\n}"]}