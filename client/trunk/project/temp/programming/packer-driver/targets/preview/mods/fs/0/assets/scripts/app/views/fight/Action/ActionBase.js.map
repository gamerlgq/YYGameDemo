{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/YYGameDemo/client/trunk/project/assets/scripts/app/views/fight/action/ActionBase.ts"],"names":["ActionBase","FightEvent","fightEventMgr","FightConstant","setDoneCallback","callback","_doneCallback","done","_send","clean","send","Single_Action_Done"],"mappings":";;;wEAaaA,U;;;;;;;;;;;;;;;;;;;;;;;;AAbJC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,a,iBAAAA,a;;;;;;;AAQT;AACA;AACA;4BACaH,U,GAAN,MAAMA,UAAN,CAAmC;AAAA;AAAA,iDACL,IADK;AAAA;;AAGtCI,QAAAA,eAAe,CAACC,QAAD,EAA2B;AACtC,eAAKC,aAAL,GAAqBD,QAArB;AACH,SALqC,CAOtC;;;AACAE,QAAAA,IAAI,GAAE;AACF,cAAI,KAAKD,aAAT,EAAwB;AACpB,iBAAKA,aAAL;AACH;;AACD,eAAKE,KAAL;;AACA,eAAKC,KAAL;AACH;;AAEOD,QAAAA,KAAK,GAAG;AACZ;AAAA;AAAA,8CAAcE,IAAd,CAAmB;AAAA;AAAA,wCAAe;AAAA;AAAA,8CAAcT,UAAd,CAAyBU,kBAAxC,EAA2D,IAA3D,CAAnB;AACH,SAlBqC,CAoBtC;;;AACAF,QAAAA,KAAK,GAAE;AACH,eAAKH,aAAL,GAAqB,IAArB;AACH;;AAvBqC,O","sourcesContent":["import { FightEvent } from \"../event/FightEvent\";\nimport { fightEventMgr } from \"../event/FightEventMgr\";\nimport { FightConstant } from \"../FightConstant\";\n\ninterface IAction {\n    setDoneCallback(callback:Function):void;\n    done():void;\n    clean():void;\n}\n\n/**\n * @description aciton的基类\n */\nexport class ActionBase implements IAction{\n    private _doneCallback:Function = null;\n\n    setDoneCallback(callback: Function): void {\n        this._doneCallback = callback;\n    }\n     \n    // 做一些回调工作\n    done(){\n        if (this._doneCallback) {\n            this._doneCallback()\n        }       \n        this._send();\n        this.clean();\n    }\n\n    private _send() {\n        fightEventMgr.send(new FightEvent(FightConstant.FightEvent.Single_Action_Done,null));\n    }\n\n    // 做一些清理工作\n    clean(){\n        this._doneCallback = null;\n    }\n}"]}