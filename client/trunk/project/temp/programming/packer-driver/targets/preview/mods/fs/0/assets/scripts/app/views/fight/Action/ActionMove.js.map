{"version":3,"sources":["file:///Users/steven/Workspaces/CocosCreatorProjects/3D/YYGameDemo/client/trunk/project/assets/scripts/app/views/fight/action/ActionMove.ts"],"names":["ActionMove","tween","Vec3","ActionBase","move","data","own","config","animCfg","params","pos","duration","_middlePos","x","y","z","to","position","progress","start","end","current","ratio","subtract","_offset"],"mappings":";;;uDAIaA,U;;;;;;;;;;;;;;;;;;;AAJcC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AACzBC,MAAAA,U,iBAAAA,U;;;;;;;4BAGIH,U,GAAN,MAAMA,UAAN;AAAA;AAAA,oCAAoC;AAAA;AAAA;;AAAA,8CAEb,IAAIE,IAAJ,EAFa;;AAAA,2CAGhB,IAAIA,IAAJ,CAAS,GAAT,EAAa,CAAb,EAAe,CAAf,CAHgB;AAAA;;AAIvC;AACJ;AACA;AACA;AACA;AACA;AACWE,QAAAA,IAAI,CAACC,IAAD,EAAmC;AAE1C,cAAIC,GAAG,GAAGD,IAAI,CAACC,GAAf;AACA,cAAIC,MAAM,GAAGF,IAAI,CAACG,OAAlB;AACA,cAAIC,MAAM,GAAGF,MAAM,CAACE,MAApB;AACA,cAAIC,GAAQ,GAAGD,MAAM,CAAC,CAAD,CAArB;AACA,cAAIE,QAAe,GAAGF,MAAM,CAAC,CAAD,CAA5B;AACA,eAAKG,UAAL,CAAgBC,CAAhB,GAAoB,CAApB;AACA,eAAKD,UAAL,CAAgBE,CAAhB,GAAoBJ,GAAG,CAACI,CAAJ,GAAM,EAA1B;AACA,eAAKF,UAAL,CAAgBG,CAAhB,GAAoB,CAApB;AACA,iBAAOd,KAAK,GAAGe,EAAR,CAAWL,QAAQ,GAAC,CAApB,EAAsB;AACzBM,YAAAA,QAAQ,EAAC,KAAKL;AADW,WAAtB,EAEL;AACEM,YAAAA,QAAQ,EAAC,CAACC,KAAD,EAAOC,GAAP,EAAWC,OAAX,EAAmBC,KAAnB,KAA2B;AAChC,qBAAOH,KAAK,GAAG,CAACC,GAAG,GAAGD,KAAP,IAAgBG,KAA/B;AACH;AAHH,WAFK,EAMJN,EANI,CAMDL,QAAQ,GAAC,CANR,EAMU;AACbM,YAAAA,QAAQ,EAACP,GAAG,CAACa,QAAJ,CAAa,KAAKC,OAAlB;AADI,WANV,EAQL;AACEN,YAAAA,QAAQ,EAAC,CAACC,KAAD,EAAOC,GAAP,EAAWC,OAAX,EAAmBC,KAAnB,KAA2B;AAChC,qBAAOH,KAAK,GAAG,CAACC,GAAG,GAAGD,KAAP,IAAgBG,KAA/B;AACH;AAHH,WARK,CAAP;AAcH;;AAlCsC,O","sourcesContent":["import { log, Node, Tween, tween, Vec3 } from \"cc\";\nimport { ActionBase } from \"./ActionBase\";\nimport { FightActionData } from \"./FightActionMgr\";\n\nexport class ActionMove extends ActionBase {\n    \n    private _middlePos:Vec3 = new Vec3();\n    private _offset:Vec3 = new Vec3(140,0,0);\n    /**\n     * \n     * @param own 移动节点\n     * @param pos 目标位置\n     * @param duration 持续时间\n     */\n    public move(data:FightActionData):Tween<Node> {\n\n        let own = data.own;\n        let config = data.animCfg;\n        let params = config.params;\n        let pos:Vec3 = params[0];\n        let duration:number = params[1];\n        this._middlePos.x = 0;\n        this._middlePos.y = pos.y+80;\n        this._middlePos.z = 0;\n        return tween().to(duration/2,{\n            position:this._middlePos\n        },{\n            progress:(start,end,current,ratio)=>{\n                return start + (end - start) * ratio;\n            }\n        }).to(duration/2,{\n            position:pos.subtract(this._offset)\n        },{\n            progress:(start,end,current,ratio)=>{\n                return start + (end - start) * ratio;\n            }\n        })\n        \n    }\n}"]}